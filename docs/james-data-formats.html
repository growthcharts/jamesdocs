<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 JAMES data formats | JAMES Documentation</title>
  <meta name="description" content="Documentation of JAMES" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 JAMES data formats | JAMES Documentation" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Documentation of JAMES" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 JAMES data formats | JAMES Documentation" />
  
  <meta name="twitter:description" content="Documentation of JAMES" />
  

<meta name="author" content="Stef van Buuren, Arjan Huizing" />


<meta name="date" content="2023-05-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>
<link rel="next" href="growth-charts-in-james.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">JAMES Documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#architecture"><i class="fa fa-check"></i><b>1.2</b> Architecture</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#r-packages"><i class="fa fa-check"></i><b>1.3</b> R packages</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="intro.html"><a href="intro.html#james-active-packages"><i class="fa fa-check"></i><b>1.3.1</b> JAMES Active packages</a></li>
<li class="chapter" data-level="1.3.2" data-path="intro.html"><a href="intro.html#james-support-packages"><i class="fa fa-check"></i><b>1.3.2</b> JAMES Support packages</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#jesse"><i class="fa fa-check"></i><b>1.4</b> JESSE</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#james-servers"><i class="fa fa-check"></i><b>1.5</b> JAMES servers</a></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#resources"><i class="fa fa-check"></i><b>1.6</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="james-data-formats.html"><a href="james-data-formats.html"><i class="fa fa-check"></i><b>2</b> JAMES data formats</a>
<ul>
<li class="chapter" data-level="2.1" data-path="james-data-formats.html"><a href="james-data-formats.html#objective"><i class="fa fa-check"></i><b>2.1</b> Objective</a></li>
<li class="chapter" data-level="2.2" data-path="james-data-formats.html"><a href="james-data-formats.html#input-child-data-accepted-by-james"><i class="fa fa-check"></i><b>2.2</b> Input child data accepted by JAMES</a></li>
<li class="chapter" data-level="2.3" data-path="james-data-formats.html"><a href="james-data-formats.html#error-checking-policy"><i class="fa fa-check"></i><b>2.3</b> Error checking policy</a></li>
<li class="chapter" data-level="2.4" data-path="james-data-formats.html"><a href="james-data-formats.html#checking-structure-of-the-input-data-against-the-json-schema"><i class="fa fa-check"></i><b>2.4</b> Checking structure of the input data against the JSON schema</a></li>
<li class="chapter" data-level="2.5" data-path="james-data-formats.html"><a href="james-data-formats.html#bds-elements-supported-by-james"><i class="fa fa-check"></i><b>2.5</b> BDS-elements supported by JAMES</a></li>
<li class="chapter" data-level="2.6" data-path="james-data-formats.html"><a href="james-data-formats.html#james-internal-data"><i class="fa fa-check"></i><b>2.6</b> JAMES internal data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="growth-charts-in-james.html"><a href="growth-charts-in-james.html"><i class="fa fa-check"></i><b>3</b> Growth charts in JAMES</a>
<ul>
<li class="chapter" data-level="3.1" data-path="growth-charts-in-james.html"><a href="growth-charts-in-james.html#chart-naming-conventions"><i class="fa fa-check"></i><b>3.1</b> Chart naming conventions</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>4</b> Methods</a></li>
<li class="chapter" data-level="5" data-path="d-score-implementation.html"><a href="d-score-implementation.html"><i class="fa fa-check"></i><b>5</b> D-score implementation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="d-score-implementation.html"><a href="d-score-implementation.html#actions"><i class="fa fa-check"></i><b>5.1</b> Actions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="opencpu-deployment.html"><a href="opencpu-deployment.html"><i class="fa fa-check"></i><b>6</b> OpenCPU deployment</a>
<ul>
<li class="chapter" data-level="6.1" data-path="opencpu-deployment.html"><a href="opencpu-deployment.html#objective-1"><i class="fa fa-check"></i><b>6.1</b> Objective</a></li>
<li class="chapter" data-level="6.2" data-path="opencpu-deployment.html"><a href="opencpu-deployment.html#pre-requisites"><i class="fa fa-check"></i><b>6.2</b> Pre-requisites</a></li>
<li class="chapter" data-level="6.3" data-path="opencpu-deployment.html"><a href="opencpu-deployment.html#installation-of-james-in"><i class="fa fa-check"></i><b>6.3</b> Installation of JAMES in</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dockerfile-for-james.html"><a href="dockerfile-for-james.html"><i class="fa fa-check"></i><b>7</b> Dockerfile for JAMES</a>
<ul>
<li class="chapter" data-level="7.1" data-path="dockerfile-for-james.html"><a href="dockerfile-for-james.html#objective-2"><i class="fa fa-check"></i><b>7.1</b> Objective</a></li>
<li class="chapter" data-level="7.2" data-path="dockerfile-for-james.html"><a href="dockerfile-for-james.html#pre-requisites-1"><i class="fa fa-check"></i><b>7.2</b> Pre-requisites</a></li>
<li class="chapter" data-level="7.3" data-path="dockerfile-for-james.html"><a href="dockerfile-for-james.html#dockerfile"><i class="fa fa-check"></i><b>7.3</b> Dockerfile</a></li>
<li class="chapter" data-level="7.4" data-path="dockerfile-for-james.html"><a href="dockerfile-for-james.html#docker-commands"><i class="fa fa-check"></i><b>7.4</b> Docker commands</a></li>
<li class="chapter" data-level="7.5" data-path="dockerfile-for-james.html"><a href="dockerfile-for-james.html#checks-with-the-browser"><i class="fa fa-check"></i><b>7.5</b> Checks with the browser</a></li>
<li class="chapter" data-level="7.6" data-path="dockerfile-for-james.html"><a href="dockerfile-for-james.html#security"><i class="fa fa-check"></i><b>7.6</b> Security</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="certificates.html"><a href="certificates.html"><i class="fa fa-check"></i><b>8</b> Certificates</a>
<ul>
<li class="chapter" data-level="8.1" data-path="certificates.html"><a href="certificates.html#objective-3"><i class="fa fa-check"></i><b>8.1</b> Objective</a></li>
<li class="chapter" data-level="8.2" data-path="certificates.html"><a href="certificates.html#vps.stefvanbuuren.nl"><i class="fa fa-check"></i><b>8.2</b> vps.stefvanbuuren.nl</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="certificates.html"><a href="certificates.html#step-1-create-the-csr-file"><i class="fa fa-check"></i><b>8.2.1</b> Step 1: Create the CSR file</a></li>
<li class="chapter" data-level="8.2.2" data-path="certificates.html"><a href="certificates.html#step-2-buy-new-certificate"><i class="fa fa-check"></i><b>8.2.2</b> Step 2: Buy new certificate</a></li>
<li class="chapter" data-level="8.2.3" data-path="certificates.html"><a href="certificates.html#step-3-create-the-crt-file"><i class="fa fa-check"></i><b>8.2.3</b> Step 3: Create the crt file</a></li>
<li class="chapter" data-level="8.2.4" data-path="certificates.html"><a href="certificates.html#step-4-transfer-to-server"><i class="fa fa-check"></i><b>8.2.4</b> Step 4: Transfer to server</a></li>
<li class="chapter" data-level="8.2.5" data-path="certificates.html"><a href="certificates.html#step-5-restart-apache2"><i class="fa fa-check"></i><b>8.2.5</b> Step 5: Restart Apache2</a></li>
<li class="chapter" data-level="8.2.6" data-path="certificates.html"><a href="certificates.html#troubleshooting"><i class="fa fa-check"></i><b>8.2.6</b> Troubleshooting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">JAMES Documentation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="james-data-formats" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> JAMES data formats<a href="james-data-formats.html#james-data-formats" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="objective" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Objective<a href="james-data-formats.html#objective" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This chapter describes</p>
<ol style="list-style-type: decimal">
<li>the format of the input child data accepted by JAMES;</li>
<li>the internal format used in the code in the <code>R</code> packages on <a href="https://github.com/growthcharts" class="uri">https://github.com/growthcharts</a>.</li>
</ol>
</div>
<div id="input-child-data-accepted-by-james" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Input child data accepted by JAMES<a href="james-data-formats.html#input-child-data-accepted-by-james" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The specification for the input data</p>
<ul>
<li>follows the definition of the <a href="https://decor.nictiz.nl/pub/jeugdgezondheidszorg/BDS401/">Basisdataset JGZ 4.0.1</a>;</li>
<li>defines data objects;</li>
<li>defines the actions taken by JAMES in case of incorrect, missing or out-of-range data;</li>
<li>defines the error messages for informing the client.</li>
</ul>
<p>Data accepted by JAMES should follow the JSON schema defined at <a href="https://raw.githubusercontent.com/growthcharts/bdsreader/srm/inst/schemas/bds_v3.0.json" class="uri">https://raw.githubusercontent.com/growthcharts/bdsreader/srm/inst/schemas/bds_v3.0.json</a>.</p>
<p>For backward compatibility, JAMES supports older versions of the schema (v1.0, v1.1 and v2.0). Do not use these deprecated formats for new applications.</p>
</div>
<div id="error-checking-policy" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Error checking policy<a href="james-data-formats.html#error-checking-policy" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Error checking of the JSON data occurs in three phases:</p>
<ol style="list-style-type: decimal">
<li><p>PHASE 1: Check whether the JSON data are valid JSON. The process terminates
with an error message if the input JSON is not valid.</p></li>
<li><p>PHASE 2: Validate the JSON data against the JSON schema specification. The process terminates
with an error if any required fields are missing. The process generates messages for data points
that do not conform to the JSON schema, but continues.</p></li>
<li><p>PHASE 3: Check the range of the numeric data. The process generates messages for out-of-range
values, but continues using the specified values.</p></li>
</ol>
<p>The default JSON schema in PHASE 2 is the built-in JSON schema <code>bds_v3.0.json</code>, a data format implementing a version that accepts strings as values for BDS-elements.</p>
</div>
<div id="checking-structure-of-the-input-data-against-the-json-schema" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Checking structure of the input data against the JSON schema<a href="james-data-formats.html#checking-structure-of-the-input-data-against-the-json-schema" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The <code>inst/extdata/bds_v3.0</code> directory of the <a href="https://github.com/growthcharts/jamesdemodata"><code>jamesdemodata</code></a> package contains examples of input data in JSON format. Non-R user can access these from GitHub from link <a href="https://github.com/growthcharts/jamesdemodata/tree/master/inst/extdata/bds_v3.0" class="uri">https://github.com/growthcharts/jamesdemodata/tree/master/inst/extdata/bds_v3.0</a>.</p>
<p>Manual checking the structure of your child data can be done as follows. Surf to <a href="https://www.jsonschemavalidator.net" class="uri">https://www.jsonschemavalidator.net</a>, paste the JSON schema definition in the left panel and paste the child data in the right panel. You should see something like the Figure <a href="james-data-formats.html#fig:jsonschema">2.1</a>.</p>
<div class="figure"><span style="display:block;" id="fig:jsonschema"></span>
<img src="fig/JSON-schema-validator.png" alt="Manual validation of a child dataset (right side) according JSON schema bds_v3.0.json."  />
<p class="caption">
Figure 2.1: Manual validation of a child dataset (right side) according JSON schema <code>bds_v3.0.json</code>.
</p>
</div>

<p>Experiment with your child file (e.g. remove the required Format field) to see what types errors the validator can catch.</p>
</div>
<div id="bds-elements-supported-by-james" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> BDS-elements supported by JAMES<a href="james-data-formats.html#bds-elements-supported-by-james" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<table>
<colgroup>
<col width="8%" />
<col width="32%" />
<col width="9%" />
<col width="35%" />
<col width="14%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">BDS</th>
<th align="left">Description</th>
<th align="right">Value</th>
<th align="left">Label</th>
<th><code>R</code> name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">19</td>
<td align="left">Sex of child</td>
<td align="right">“0”</td>
<td align="left">Unknown</td>
<td><code>sex</code></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“1”</td>
<td align="left">Male</td>
<td></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“2”</td>
<td align="left">Female</td>
<td></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“3”</td>
<td align="left">Not specified</td>
<td></td>
</tr>
<tr class="odd">
<td align="right">20</td>
<td align="left">Date of birth</td>
<td align="right">“yyyymmdd”</td>
<td align="left">year-month-day</td>
<td><code>dob</code></td>
</tr>
<tr class="even">
<td align="right">62</td>
<td align="left">Caretaker relation</td>
<td align="right">“01”</td>
<td align="left">biological father</td>
<td></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“02”</td>
<td align="left">biological mother</td>
<td></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“03”</td>
<td align="left">male partner, stepfather</td>
<td></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“04”</td>
<td align="left">female partner, stepmother</td>
<td></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“05”</td>
<td align="left">adoptive father</td>
<td></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“06”</td>
<td align="left">adoptive mother</td>
<td></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“07”</td>
<td align="left">foster father</td>
<td></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“08”</td>
<td align="left">foster mother</td>
<td></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“98”</td>
<td align="left">other</td>
<td></td>
</tr>
<tr class="odd">
<td align="right">63</td>
<td align="left">Caretaker date of birth</td>
<td align="right">“yyyymmdd”</td>
<td align="left">year-month-day</td>
<td><code>dobf</code></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="left"></td>
<td><code>dobm</code></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right"></td>
<td align="left"></td>
<td><code>agem</code></td>
</tr>
<tr class="even">
<td align="right">66</td>
<td align="left">Caretaker education</td>
<td align="right">“01”</td>
<td align="left">no primary school</td>
<td><code>-</code></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“02”</td>
<td align="left">primary school, special ed</td>
<td></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“03”</td>
<td align="left">VSO-MLK/IVBO/VMBO-LWOO</td>
<td></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“04”</td>
<td align="left">LBO/VBO/VMBO-BBL&amp;KBL</td>
<td></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“05”</td>
<td align="left">MAVO/VMBO-GL&amp;TL</td>
<td></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“06”</td>
<td align="left">MBO</td>
<td></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“07”</td>
<td align="left">HAVO/VWO</td>
<td></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“08”</td>
<td align="left">HBO/HTS/HEAO</td>
<td></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“09”</td>
<td align="left">WO</td>
<td></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“98”</td>
<td align="left">Other</td>
<td></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“00”</td>
<td align="left">Unknown</td>
<td></td>
</tr>
<tr class="odd">
<td align="right">71</td>
<td align="left">Caretaker birth country</td>
<td align="right">“dddd”</td>
<td align="left"><a href="https://publicaties.rvig.nl/dsresource?objectid=29b66cb2-02ef-4a11-baf4-316ae00d8fa1">4-digit code, Table 34</a></td>
<td><code>etn</code> (always <code>NL</code>)</td>
</tr>
<tr class="even">
<td align="right">82</td>
<td align="left">Gestational age</td>
<td align="right">“ddd”</td>
<td align="left">in days</td>
<td><code>gad</code></td>
</tr>
<tr class="odd">
<td align="right">91</td>
<td align="left">Smoking during pregnancy</td>
<td align="right">“1”</td>
<td align="left">yes</td>
<td><code>smo</code></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“2”</td>
<td align="left">no</td>
<td></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“99”</td>
<td align="left">unknown</td>
<td></td>
</tr>
<tr class="even">
<td align="right">110</td>
<td align="left">Birth weight</td>
<td align="right">“dddd”</td>
<td align="left">3-4 digits, grammes</td>
<td><code>bw</code> (g)</td>
</tr>
<tr class="odd">
<td align="right">235</td>
<td align="left">Length/height</td>
<td align="right">“dddd”</td>
<td align="left">3-4 digits, millimeters</td>
<td><code>hgt</code> (cm)</td>
</tr>
<tr class="even">
<td align="right">245</td>
<td align="left">Body weight</td>
<td align="right">“dddddd”</td>
<td align="left">3-6 digits, grammes</td>
<td><code>wgt</code> (kg)</td>
</tr>
<tr class="odd">
<td align="right">252</td>
<td align="left">Head circumference</td>
<td align="right">“ddd”</td>
<td align="left">2-3 digits, millimeters</td>
<td><code>hdc</code> (cm)</td>
</tr>
<tr class="even">
<td align="right">238</td>
<td align="left">Height biological mother</td>
<td align="right">“dddd”</td>
<td align="left">3-4 digits, millimeters</td>
<td><code>hgtf</code> (cm)</td>
</tr>
<tr class="odd">
<td align="right">240</td>
<td align="left">Height biological father</td>
<td align="right">“dddd”</td>
<td align="left">3-4 digits, millimeters</td>
<td><code>hgtm</code> (cm)</td>
</tr>
<tr class="even">
<td align="right">510</td>
<td align="left">Passive smoking</td>
<td align="right">“01”</td>
<td align="left">No smoking in house</td>
<td><code>-</code></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“02”</td>
<td align="left">Never with child</td>
<td></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="right">“03”</td>
<td align="left">Not in last 7 days</td>
<td></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="right">“04”</td>
<td align="left">Yes</td>
<td></td>
</tr>
</tbody>
</table>
<p>JAMES supports the following BDS numbers with Van Wiechen items: 879, 881, 883, 884, 885, 887, 888, 889, 890, 891, 894, 896, 897, 898, 902, 903, 906, 907, 910, 912, 914, 916, 917, 918, 920, 922, 923, 926, 945, 951, 955, 956, 958, 959, 961, 962, 964, 966, 968, 970, 971, 973, 975, 977, 978, 986, 989, 991, 993, 994, 996, 999, 1002, 886, 892, 893, 900, 905, 909, 913, 921, 927, 928, 930, 931, 932, 933, 934, 935, 936, 937, 938, 939, 940, 941, 943, 947, 948, 949, 950, 953, 954, 972, 980, 982, 984, 998, 1001, 1278.</p>
<p>The results of the Van Wiechen items are converted into 0/1 codes (by <a href="https://github.com/growthcharts/bdsreader/blob/master/R/convert_ddi_gsed.R">bdsreader:::convert_ddi_gsed</a>) and stored with GSED 9-position names as defined by the <a href="https://d-score.org/dscore/"><code>dscore</code></a> package.</p>
<p>In addition, JAMES reads the following non-BDS fields:</p>
<table>
<colgroup>
<col width="26%" />
<col width="35%" />
<col width="22%" />
<col width="14%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">Fields</th>
<th align="left">Description</th>
<th align="right">Type</th>
<th align="left"><code>R</code> name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">Reference</td>
<td align="left">Description (opt)</td>
<td align="right">String</td>
<td align="left"><code>name</code></td>
</tr>
<tr class="even">
<td align="right">Format</td>
<td align="left">JSON schema number (req)</td>
<td align="right">Number.Number</td>
<td align="left"><code>-</code></td>
</tr>
<tr class="odd">
<td align="right">organisationCode</td>
<td align="left">Organisation code (opt)</td>
<td align="right">Integer</td>
<td align="left"><code>src</code></td>
</tr>
</tbody>
</table>
</div>
<div id="james-internal-data" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> JAMES internal data<a href="james-data-formats.html#james-internal-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Suppose we coded the following data set.</p>
<pre><code>{
  &quot;Format&quot;: &quot;3.0&quot;,
  &quot;organisationCode&quot;: 1234,
  &quot;Reference&quot;: &quot;Maria&quot;,
  &quot;clientDetails&quot;: [
    {
      &quot;bdsNumber&quot;: 19,
      &quot;value&quot;: &quot;2&quot;
    },
    {
      &quot;bdsNumber&quot;: 20,
      &quot;value&quot;: &quot;20181011&quot;
    },
    {
      &quot;bdsNumber&quot;: 82,
      &quot;value&quot;: 189
    },
    {
      &quot;bdsNumber&quot;: 91,
      &quot;value&quot;: &quot;1&quot;
    },
    {
      &quot;bdsNumber&quot;: 110,
      &quot;value&quot;: 990
    },
    {
      &quot;bdsNumber&quot;: 238,
      &quot;value&quot;: 1670
    },
    {
      &quot;bdsNumber&quot;: 240,
      &quot;value&quot;: 1900
    }
  ],
  &quot;clientMeasurements&quot;: [
    {
      &quot;bdsNumber&quot;: 235,
      &quot;values&quot;: [
        {
          &quot;date&quot;: &quot;20181111&quot;,
          &quot;value&quot;: 380
        },
        {
          &quot;date&quot;: &quot;20181211&quot;,
          &quot;value&quot;: 435
        }
      ]
    },
    {
      &quot;bdsNumber&quot;: 245,
      &quot;values&quot;: [
        {
          &quot;date&quot;: &quot;20181011&quot;,
          &quot;value&quot;: 990
        },
        {
          &quot;date&quot;: &quot;20181111&quot;,
          &quot;value&quot;: 1250
        },
        {
          &quot;date&quot;: &quot;20181211&quot;,
          &quot;value&quot;: 2100
        }
      ]
    },
    {
      &quot;bdsNumber&quot;: 252,
      &quot;values&quot;: [
        {
          &quot;date&quot;: &quot;20181111&quot;,
          &quot;value&quot;: 270
        },
        {
          &quot;date&quot;: &quot;20181211&quot;,
          &quot;value&quot;: 305
        }
      ]
    }
  ],
  &quot;nestedDetails&quot;: [
    {
      &quot;nestingBdsNumber&quot;: 62,
      &quot;nestingCode&quot;: &quot;01&quot;,
      &quot;clientDetails&quot;: [
        {
          &quot;bdsNumber&quot;: 63,
          &quot;value&quot;: &quot;19950704&quot;
        }
      ],
      &quot;clientMeasurements&quot;: [

      ]
    },
    {
      &quot;nestingBdsNumber&quot;: 62,
      &quot;nestingCode&quot;: &quot;02&quot;,
      &quot;clientDetails&quot;: [
        {
          &quot;bdsNumber&quot;: 63,
          &quot;value&quot;: &quot;19901202&quot;
        }
      ],
      &quot;clientMeasurements&quot;: [

      ]
    }
  ]
}</code></pre>
<p>The following R script shows reading and conversion of the data.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="james-data-formats.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(bdsreader)</span>
<span id="cb2-2"><a href="james-data-formats.html#cb2-2" aria-hidden="true" tabindex="-1"></a>fn <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;examples/maria.json&quot;</span>, <span class="at">package =</span> <span class="st">&quot;bdsreader&quot;</span>)</span>
<span id="cb2-3"><a href="james-data-formats.html#cb2-3" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">read_bds</span>(fn)</span></code></pre></div>
<p>Object <code>m</code> object is a list with two components:</p>
<ul>
<li><code>m$psn</code> a tibble with one row containing fixed covariates</li>
<li><code>m$xyz</code> a tibble with multiple rows with time-varying data</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="james-data-formats.html#cb3-1" aria-hidden="true" tabindex="-1"></a>m<span class="sc">$</span>psn</span></code></pre></div>
<pre><code>## # A tibble: 1 × 16
##      id name  dob        dobf       dobm       src   dnr   sex      gad    ga
##   &lt;int&gt; &lt;chr&gt; &lt;date&gt;     &lt;date&gt;     &lt;date&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt;
## 1    -1 Maria 2018-10-11 1995-07-04 1990-12-02 1234  &lt;NA&gt;  female   189    27
## # ℹ 6 more variables: smo &lt;int&gt;, bw &lt;dbl&gt;, hgtm &lt;dbl&gt;, hgtf &lt;dbl&gt;, agem &lt;dbl&gt;,
## #   etn &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="james-data-formats.html#cb5-1" aria-hidden="true" tabindex="-1"></a>m<span class="sc">$</span>xyz</span></code></pre></div>
<pre><code>## # A tibble: 11 × 8
##       age xname yname zname zref                        x     y      z
##     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;                   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
##  1 0.0849 age   hgt   hgt_z nl_2012_hgt_female_27  0.0849 38    -0.158
##  2 0.0849 age   wgt   wgt_z nl_2012_wgt_female_27  0.0849  1.25 -0.203
##  3 0.0849 age   hdc   hdc_z nl_2012_hdc_female_27  0.0849 27    -0.709
##  4 0.0849 age   bmi   bmi_z nl_1997_bmi_female_nl  0.0849  8.66 -5.72 
##  5 0.167  age   hgt   hgt_z nl_2012_hgt_female_27  0.167  43.5   0.047
##  6 0.167  age   wgt   wgt_z nl_2012_wgt_female_27  0.167   2.1   0.015
##  7 0.167  age   hdc   hdc_z nl_2012_hdc_female_27  0.167  30.5  -0.913
##  8 0.167  age   bmi   bmi_z nl_1997_bmi_female_nl  0.167  11.1  -3.77 
##  9 0      age   wgt   wgt_z nl_2012_wgt_female_27  0       0.99  0.19 
## 10 0.0849 hgt   wfh   wfh_z nl_2012_wfh_female_   38       1.25 -0.001
## 11 0.167  hgt   wfh   wfh_z nl_2012_wfh_female_   43.5     2.1   0.326</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="growth-charts-in-james.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["jamesdocs.pdf", "jamesdocs.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
